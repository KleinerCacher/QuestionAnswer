@*TODO minimize and put in layouts*@
<script type="text/javascript" src="~/Scripts/ckeditor/ckeditor.js"></script>
<script type="text/javascript" src="~/Scripts/ckeditor/adapters/jquery.js"></script>

<script>
    (function () {
        $(function () {
            CKEDITOR.replace('@ViewData.TemplateInfo.GetFullHtmlFieldId(string.Empty)', {
                filebrowserImageBrowseUrl: '/Image/UploadPartial',
                filebrowserImageUploadUrl: '/Image/UploadNow'
            });
        }
        )
    })();

    function updateValue(id, value) {
        document.getElementById(id).value = value;
    }
</script>

@Html.TextArea(string.Empty, ViewData.TemplateInfo.FormattedModelValue)